<p><img src="../plugins/intercom/icon_128.png" alt="bot icon" style="padding-left: 1rem;">
<p style="font-weight:bold">{$this->desc}</p>
<div style="width:85%">
    <p><a href="https://newrelic.com">New Relic</a> is a web and mobile application performance monitoring service that lets your team keep an eye on application health and availability.</p>
    <p>This integration will allow you to receive updates in a Slack channel when an alert is triggered in New Relic. If you would like web, transaction, server and mobile alerts to be posted in separate channels, you will need to set up separate integrations.</p>
    <p class="alert alert-info">To add this integration, you will need to be an Owner of your New Relic account.</p>
    
    <p><a href="#atsm">Setup Application, Transaction, and Server Monitoring</a></p>
    <p><a href="#mmda">Setup Mobile Monitoring and Deployment Alerts</a></p>

    <div id="atsm" height="90px">&nbsp;</div>
    <div style="border-radius: 0.5rem; border: 1px solid grey; padding: 20px 0 0 20px; margin-bottom:30px;">
        <h3>Application, Transaction, and Server Monitoring</h3>
        <p>We'll create a webhook to send alerts from applications, key transactions or servers.</p>

        <h4>Step 1</h4>
        <p>In New Relic, click on <strong>Alerts &raquo; Channels and groups</strong> in the left sidebar.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step1.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>

        <h4>Step 2</h4>
        <p>Press the <strong>Create channel</strong> button, and choose <strong>Webhook</strong> from the list of options to display the webhook creation form. Choose a unique name and add <code>{$this->getHookURL()}</code>  as the Webhook URL. If you only want to receive downtime alerts, make sure the checkbox is selected. Press the <strong>Integrate with Webhooks</strong> button when you're done.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step4.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>

        <h4>Step 3</h4>
        <p>Now you have to connect your new webhook toÂ an application, key transaction, or server policy. In the top tab bar, choose <strong>Application policies</strong>, <strong>Key transaction policies</strong>, or <strong>Server policies</strong>. If you want to create a new policy, go ahead. Otherwise, click on the existing policy that contains the applications, transactions, or servers you want to monitor. After the alert policy box expands, choose the <strong>Alert channels</strong> tab on the right and press the <strong>Select channels</strong> button.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step7.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>

        <h4>Step 4</h4>
        <p>Find your newly created webhook, select the checkbox, and press the <strong>Save now</strong> button in the top right. Repeat Steps 3 and 4 if you want to monitor other applications, key transactions or servers.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step8.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>
    </div>

    <div id="mmda" height="90px">&nbsp;</div>
    <div style="border-radius: 0.5rem; border: 1px solid grey; padding: 20px 0 0 20px;">
        <h3>Mobile Monitoring and Deployment Alerts</h3>

        <p>Alerts from mobile applications and deployments will need to be configured separately.</p>

        <h4>Step 1</h4>
        <p>In New Relic, click on <strong>Account settings</strong> under the main menu in the top right.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step9.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>

        <h4>Step 2</h4>
        <p>In the top tab bar, choose <strong>Integrations &raquo; Alerting notifications</strong>. Choosing <strong>Webhook</strong> from the tabs below will display the webhook creation form. Add <code>{$this->getHookURL()}</code>  as the Webhook URL and make sure the <strong>mobile application</strong> checkbox is selected if you're setting up mobile monitoring. Press the <strong>Integrate with Webhooks</strong> button when you're done.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step11.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>

        <h4>Step 3 (for mobile monitoring only)</h4>
        <p>We'll need to make sure your mobile application has alerts enabled. Click <strong>Mobile</strong> in the left sidebar and choose the mobile app you want to monitor. In the top tab bar, go to <strong>Settings &raquo; Alerts</strong> and make sure that alerts are enabled in the <strong>Alerts</strong> box on the right.</p>
        <p class="large_bottom_margin"><img src="../plugins/new_relic/new_relic_settings_step12.png" style="border-radius: 0.5rem; border: 1px solid #DDD;"></p>
    </div>    

    <p><a href="{$this->getEditUrl()}" class="btn">Edit settings</a></p>
</div>